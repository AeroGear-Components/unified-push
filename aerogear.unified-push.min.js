/*! AeroGear JavaScript Library - v2.1.0 - 2015-03-12
* https://github.com/aerogear/aerogear-js
* JBoss, Home of Professional Open Source
* Copyright Red Hat, Inc., and individual contributors
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
* http://www.apache.org/licenses/LICENSE-2.0
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
!function(a){this.AeroGear={},AeroGear.Core=function(){if(this instanceof AeroGear.Core)throw"Invalid instantiation of base class AeroGear.Core";this.add=function(a){var b,c,d=this[this.collectionName]||{};if(this[this.collectionName]=d,!a)return this;if("string"==typeof a)d[a]=AeroGear[this.lib].adapters[this.type](a,this.config);else if(Array.isArray(a))for(b=0;b<a.length;b++)c=a[b],"string"==typeof c?d[c]=AeroGear[this.lib].adapters[this.type](c,this.config):c.name&&(c.settings=AeroGear.extend(c.settings||{},this.config),d[c.name]=AeroGear[this.lib].adapters[c.type||this.type](c.name,c.settings));else{if(!a.name)return this;a.settings=AeroGear.extend(a.settings||{},this.config),d[a.name]=AeroGear[this.lib].adapters[a.type||this.type](a.name,a.settings)}return this[this.collectionName]=d,this},this.remove=function(a){var b,c,d=this[this.collectionName]||{};if("string"==typeof a)delete d[a];else if(Array.isArray(a))for(b=0;b<a.length;b++)c=a[b],"string"==typeof c?delete d[c]:delete d[c.name];else a&&delete d[a.name];return this[this.collectionName]=d,this}},AeroGear.extend=function(){var a,b,c,d=arguments[0];for(b=1;b<arguments.length;b++){c=arguments[b];for(a in c)d[a]=c[a]}return d},function(b){b.UnifiedPushClient=function(c,d,e){if(!c||!d||!e)throw"UnifiedPushClientException";return this instanceof b.UnifiedPushClient?(e="/"===e.substr(-1)?e:e+"/",this._ajax=function(a){return new Promise(function(b,c){var d,e=this,f=new XMLHttpRequest;if(f.open(a.type||"GET",a.url,!0,a.username,a.password),f.responseType="json",f.setRequestHeader("Content-Type","application/json"),f.setRequestHeader("Accept","application/json"),a.headers)for(d in a.headers)f.setRequestHeader(d,a.headers[d]);f.onload=function(){var a=f.status<400?"success":"error",d=e._createPromiseValue(f,a);return"success"===a?b(d):c(d)},f.onerror=function(){return c(e._createPromiseValue(f,"error"))},this._createPromiseValue=function(a,b){return{data:a.response,statusText:a.statusText||b,agXHR:a}},f.send(a.data)})},this.registerWithPushServer=function(b){b=b||{};var f=b.metadata||{};if(!f.deviceToken)throw"UnifiedPushRegistrationException";return f.categories=Array.isArray(f.categories)?f.categories:f.categories?[f.categories]:[],this._ajax({type:"POST",url:e+"rest/registry/device",headers:{Authorization:"Basic "+a.btoa(c+":"+d)},data:JSON.stringify(f)})},void(this.unregisterWithPushServer=function(b){return this._ajax({type:"DELETE",url:e+"rest/registry/device/"+b,headers:{Authorization:"Basic "+a.btoa(c+":"+d)}})})):new b.UnifiedPushClient(c,d,e)}}(AeroGear)}(this);
//# sourceMappingURL=aerogear.custom.min.js.map